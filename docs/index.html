<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>stellar API documentation</title>
    <meta name="description" content="" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#stellar.account">account</a></li>
    <li class="mono"><a href="#stellar.account_from_secret">account_from_secret</a></li>
    <li class="mono"><a href="#stellar.assets">assets</a></li>
    <li class="mono"><a href="#stellar.effects">effects</a></li>
    <li class="mono"><a href="#stellar.find_payment_path">find_payment_path</a></li>
    <li class="mono"><a href="#stellar.get_current_network">get_current_network</a></li>
    <li class="mono"><a href="#stellar.ledger">ledger</a></li>
    <li class="mono"><a href="#stellar.ledgers">ledgers</a></li>
    <li class="mono"><a href="#stellar.new_transaction">new_transaction</a></li>
    <li class="mono"><a href="#stellar.operation">operation</a></li>
    <li class="mono"><a href="#stellar.operations">operations</a></li>
    <li class="mono"><a href="#stellar.orderbook">orderbook</a></li>
    <li class="mono"><a href="#stellar.payments">payments</a></li>
    <li class="mono"><a href="#stellar.random_keypair">random_keypair</a></li>
    <li class="mono"><a href="#stellar.setup_custom_network">setup_custom_network</a></li>
    <li class="mono"><a href="#stellar.setup_public_network">setup_public_network</a></li>
    <li class="mono"><a href="#stellar.setup_test_network">setup_test_network</a></li>
    <li class="mono"><a href="#stellar.trades">trades</a></li>
    <li class="mono"><a href="#stellar.transaction">transaction</a></li>
    <li class="mono"><a href="#stellar.transactions">transactions</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Accounts">Accounts</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Accounts.__init__">__init__</a></li>
    <li class="mono"><a href="#stellar.Accounts.effects">effects</a></li>
    <li class="mono"><a href="#stellar.Accounts.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Accounts.first">first</a></li>
    <li class="mono"><a href="#stellar.Accounts.last">last</a></li>
    <li class="mono"><a href="#stellar.Accounts.offers">offers</a></li>
    <li class="mono"><a href="#stellar.Accounts.operations">operations</a></li>
    <li class="mono"><a href="#stellar.Accounts.payments">payments</a></li>
    <li class="mono"><a href="#stellar.Accounts.stream">stream</a></li>
    <li class="mono"><a href="#stellar.Accounts.transactions">transactions</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Asset">Asset</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Asset.format_url_parameters">format_url_parameters</a></li>
    <li class="mono"><a href="#stellar.Asset.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Assets">Assets</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Effects">Effects</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Fetchable">Fetchable</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Fetchable.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Fetchable.first">first</a></li>
    <li class="mono"><a href="#stellar.Fetchable.last">last</a></li>
    <li class="mono"><a href="#stellar.Fetchable.stream">stream</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Ledgers">Ledgers</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Ledgers.__init__">__init__</a></li>
    <li class="mono"><a href="#stellar.Ledgers.effects">effects</a></li>
    <li class="mono"><a href="#stellar.Ledgers.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Ledgers.first">first</a></li>
    <li class="mono"><a href="#stellar.Ledgers.last">last</a></li>
    <li class="mono"><a href="#stellar.Ledgers.operations">operations</a></li>
    <li class="mono"><a href="#stellar.Ledgers.payments">payments</a></li>
    <li class="mono"><a href="#stellar.Ledgers.stream">stream</a></li>
    <li class="mono"><a href="#stellar.Ledgers.transactions">transactions</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.NewTransaction">NewTransaction</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.NewTransaction.__init__">__init__</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.add_offer">add_offer</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.add_passive_offer">add_passive_offer</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.authorize_trust">authorize_trust</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.clear_flags">clear_flags</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.create_account">create_account</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.create_or_update_trust">create_or_update_trust</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.deauthorize_trust">deauthorize_trust</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.errors">errors</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.is_success">is_success</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.merge_this_account_with">merge_this_account_with</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.pathpay">pathpay</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.pay">pay</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.put_or_update_data">put_or_update_data</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.remove_data">remove_data</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.remove_offer">remove_offer</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.remove_trust">remove_trust</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.result">result</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.run_inflation">run_inflation</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_flags">set_flags</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_home_domain">set_home_domain</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_inflation_destination">set_inflation_destination</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_master_weight">set_master_weight</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_signer">set_signer</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.set_thresholds">set_thresholds</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.submit">submit</a></li>
    <li class="mono"><a href="#stellar.NewTransaction.update_offer">update_offer</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Offers">Offers</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Offers.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Offers.first">first</a></li>
    <li class="mono"><a href="#stellar.Offers.last">last</a></li>
    <li class="mono"><a href="#stellar.Offers.stream">stream</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Operations">Operations</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Operations.__init__">__init__</a></li>
    <li class="mono"><a href="#stellar.Operations.effects">effects</a></li>
    <li class="mono"><a href="#stellar.Operations.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Operations.first">first</a></li>
    <li class="mono"><a href="#stellar.Operations.last">last</a></li>
    <li class="mono"><a href="#stellar.Operations.stream">stream</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Orderbooks">Orderbooks</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.PaymentPaths">PaymentPaths</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.PaymentPaths.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Payments">Payments</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#stellar.Transactions">Transactions</a></span>
        
          
  <ul>
    <li class="mono"><a href="#stellar.Transactions.__init__">__init__</a></li>
    <li class="mono"><a href="#stellar.Transactions.effects">effects</a></li>
    <li class="mono"><a href="#stellar.Transactions.fetch">fetch</a></li>
    <li class="mono"><a href="#stellar.Transactions.first">first</a></li>
    <li class="mono"><a href="#stellar.Transactions.last">last</a></li>
    <li class="mono"><a href="#stellar.Transactions.operations">operations</a></li>
    <li class="mono"><a href="#stellar.Transactions.payments">payments</a></li>
    <li class="mono"><a href="#stellar.Transactions.stream">stream</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">stellar</span> module</h1>
  
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar', this);">Show source &equiv;</a></p>
  <div id="source-stellar" class="source">
    <div class="codehilite"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;random_keypair&#39;</span><span class="p">,</span> <span class="s1">&#39;account_from_secret&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;setup_test_network&#39;</span><span class="p">,</span> <span class="s1">&#39;setup_public_network&#39;</span><span class="p">,</span> <span class="s1">&#39;setup_custom_network&#39;</span><span class="p">,</span> <span class="s1">&#39;get_current_network&#39;</span><span class="p">,</span>
        <span class="s1">&#39;account&#39;</span><span class="p">,</span> <span class="s1">&#39;transaction&#39;</span><span class="p">,</span> <span class="s1">&#39;ledger&#39;</span><span class="p">,</span> <span class="s1">&#39;operation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;transactions&#39;</span><span class="p">,</span> <span class="s1">&#39;ledgers&#39;</span><span class="p">,</span> <span class="s1">&#39;effects&#39;</span><span class="p">,</span> <span class="s1">&#39;operations&#39;</span><span class="p">,</span> <span class="s1">&#39;payments&#39;</span><span class="p">,</span>
        <span class="s1">&#39;find_payment_path&#39;</span><span class="p">,</span> <span class="s1">&#39;assets&#39;</span><span class="p">,</span> <span class="s1">&#39;trades&#39;</span><span class="p">,</span> <span class="s1">&#39;orderbook&#39;</span><span class="p">,</span>
        <span class="s1">&#39;new_transaction&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Fetchable&#39;</span><span class="p">,</span> <span class="s1">&#39;NewTransaction&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Accounts&#39;</span><span class="p">,</span> <span class="s1">&#39;Transactions&#39;</span><span class="p">,</span> <span class="s1">&#39;Ledgers&#39;</span><span class="p">,</span> <span class="s1">&#39;Operations&#39;</span><span class="p">,</span> <span class="s1">&#39;Payments&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Effects&#39;</span><span class="p">,</span> <span class="s1">&#39;Offers&#39;</span><span class="p">,</span> <span class="s1">&#39;Orderbooks&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;PaymentPaths&#39;</span><span class="p">,</span>
        <span class="p">]</span>

<span class="kn">from</span> <span class="nn">.keys</span> <span class="kn">import</span> <span class="n">random_keypair</span><span class="p">,</span> <span class="n">account_from_secret</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">setup_test_network</span><span class="p">,</span> <span class="n">setup_public_network</span><span class="p">,</span> <span class="n">setup_custom_network</span><span class="p">,</span> <span class="n">get_current_network</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">account</span><span class="p">,</span> <span class="n">transaction</span><span class="p">,</span> <span class="n">ledger</span><span class="p">,</span> <span class="n">operation</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">transactions</span><span class="p">,</span> <span class="n">ledgers</span><span class="p">,</span> <span class="n">effects</span><span class="p">,</span> <span class="n">operations</span><span class="p">,</span> <span class="n">payments</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">find_payment_path</span><span class="p">,</span> <span class="n">assets</span><span class="p">,</span> <span class="n">trades</span><span class="p">,</span> <span class="n">orderbook</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">new_transaction</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">Fetchable</span><span class="p">,</span> <span class="n">NewTransaction</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">Asset</span><span class="p">,</span> <span class="n">Accounts</span><span class="p">,</span> <span class="n">Transactions</span><span class="p">,</span> <span class="n">Ledgers</span><span class="p">,</span> <span class="n">Operations</span><span class="p">,</span> <span class="n">Payments</span>
<span class="kn">from</span> <span class="nn">.api</span> <span class="kn">import</span> <span class="n">Effects</span><span class="p">,</span> <span class="n">Offers</span><span class="p">,</span> <span class="n">Orderbooks</span><span class="p">,</span> <span class="n">Assets</span><span class="p">,</span> <span class="n">PaymentPaths</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="k">try</span><span class="p">:</span>  <span class="c1"># Python 2.7+</span>
    <span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">NullHandler</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">class</span> <span class="nc">NullHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Handler</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
            <span class="k">pass</span>

<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">NullHandler</span><span class="p">())</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="stellar.account">
    <p>def <span class="ident">account</span>(</p><p>accid)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns Fetchable object to retrieve account details of the accid.
You can chain other operations e.g. stellar.account(accid).operations() 
to retrieve operations of the given account.</p>
<div class="codehilite"><pre><span></span>a = stellar.account(&#39;GAEE..IB4V..&#39;).fetch() 
a_ops = stellar.account(&#39;GAEE..IB4V..&#39;).
            operations().fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.account', this);">Show source &equiv;</a></p>
  <div id="source-stellar.account" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">account</span><span class="p">(</span><span class="n">accid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns Fetchable object to retrieve account details of the accid.</span>
<span class="sd">    You can chain other operations e.g. stellar.account(accid).operations() </span>
<span class="sd">    to retrieve operations of the given account.</span>

<span class="sd">        a = stellar.account(&#39;GAEE..IB4V..&#39;).fetch() </span>
<span class="sd">        a_ops = stellar.account(&#39;GAEE..IB4V..&#39;).</span>
<span class="sd">                    operations().fetch().entries() </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Accounts</span><span class="p">(</span><span class="n">accid</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.account_from_secret">
    <p>def <span class="ident">account_from_secret</span>(</p><p>secret)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns account-id given the secret</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.account_from_secret', this);">Show source &equiv;</a></p>
  <div id="source-stellar.account_from_secret" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">account_from_secret</span><span class="p">(</span><span class="n">secret</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns account-id given the secret&quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">crc16</span><span class="o">.</span><span class="n">crc16xmodem</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">keytype</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">a2b_hex</span><span class="p">(</span><span class="n">KEY_TYPES</span><span class="p">[</span><span class="s1">&#39;seed&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">keytype</span> <span class="ow">or</span> <span class="n">key</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span> <span class="o">!=</span> <span class="n">checksum</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid Secret Key&#39;</span><span class="p">)</span>

    <span class="n">signing_key</span> <span class="o">=</span> <span class="n">ed25519</span><span class="o">.</span><span class="n">SigningKey</span><span class="p">(</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">a2b_hex</span><span class="p">(</span><span class="n">KEY_TYPES</span><span class="p">[</span><span class="s1">&#39;public&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="n">signing_key</span><span class="o">.</span><span class="n">get_verifying_key</span><span class="p">()</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">()</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="n">crc16</span><span class="o">.</span><span class="n">crc16xmodem</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
    <span class="n">checksum</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">checksum</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">payload</span> <span class="o">+</span> <span class="n">checksum</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.assets">
    <p>def <span class="ident">assets</span>(</p><p>asset_code=None, asset_issuer=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns all the assets. Optionally assets can be filtered based on asset_code
or asset_issuer.</p>
<div class="codehilite"><pre><span></span>usds = stellar.assets(asset_code=&#39;USD&#39;).fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.assets', this);">Show source &equiv;</a></p>
  <div id="source-stellar.assets" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">assets</span><span class="p">(</span><span class="n">asset_code</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">asset_issuer</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all the assets. Optionally assets can be filtered based on asset_code</span>
<span class="sd">    or asset_issuer.</span>

<span class="sd">        usds = stellar.assets(asset_code=&#39;USD&#39;).fetch().entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Assets</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="n">asset_code</span><span class="p">,</span> <span class="n">asset_issuer</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.effects">
    <p>def <span class="ident">effects</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns all the effets that are being performed 
on stellar network.</p>
<div class="codehilite"><pre><span></span>es = stellar.effects().fetch()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">effects</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all the effets that are being performed </span>
<span class="sd">    on stellar network.</span>

<span class="sd">        es = stellar.effects().fetch()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.find_payment_path">
    <p>def <span class="ident">find_payment_path</span>(</p><p>from_account, to_account, to_asset, amount)</p>
    </div>
    

    
  
    <div class="desc"><p>A path payment specifies a series of assets to route a payment through
from source asset (the asset debited from the payer) to destination asset 
(the asset credited to the payee). As part of the search, horizon will load
a list of assets available to the source account id and will find any payment 
paths from those source assets to the desired destination asset. The search’s 
amount parameter will be used to determine if there a given path can satisfy 
a payment of the desired amount. </p>
<div class="codehilite"><pre><span></span>path = stellar.find_payment_path(&#39;GAEE__ADED__&#39;,
        &#39;GDAA__3EFD__&#39;, (&#39;USD&#39;, &#39;GDKG__GZ2O__&#39;),
        &quot;10.1&quot;).fetch()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.find_payment_path', this);">Show source &equiv;</a></p>
  <div id="source-stellar.find_payment_path" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">find_payment_path</span><span class="p">(</span><span class="n">from_account</span><span class="p">,</span> <span class="n">to_account</span><span class="p">,</span> <span class="n">to_asset</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A path payment specifies a series of assets to route a payment through</span>
<span class="sd">    from source asset (the asset debited from the payer) to destination asset </span>
<span class="sd">    (the asset credited to the payee). As part of the search, horizon will load</span>
<span class="sd">    a list of assets available to the source account id and will find any payment </span>
<span class="sd">    paths from those source assets to the desired destination asset. The search’s </span>
<span class="sd">    amount parameter will be used to determine if there a given path can satisfy </span>
<span class="sd">    a payment of the desired amount. </span>

<span class="sd">        path = stellar.find_payment_path(&#39;GAEE__ADED__&#39;,</span>
<span class="sd">                &#39;GDAA__3EFD__&#39;, (&#39;USD&#39;, &#39;GDKG__GZ2O__&#39;),</span>
<span class="sd">                &quot;10.1&quot;).fetch()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PaymentPaths</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="n">from_account</span><span class="p">,</span> <span class="n">to_account</span><span class="p">,</span> <span class="n">to_asset</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.get_current_network">
    <p>def <span class="ident">get_current_network</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns tuple containing horizon endpoint url and current network_id</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.get_current_network', this);">Show source &equiv;</a></p>
  <div id="source-stellar.get_current_network" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get_current_network</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Returns tuple containing horizon endpoint url and current network_id&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">horizon</span><span class="p">,</span> <span class="n">network_id</span><span class="p">,</span> <span class="n">network_password</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">horizon</span><span class="p">,</span> <span class="n">network_id</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.ledger">
    <p>def <span class="ident">ledger</span>(</p><p>ledseq)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns single ledger with given ledseq. Can be chained to retreive other
details such as transactions that are part of given ledger.</p>
<div class="codehilite"><pre><span></span>l = stellar.ledger(12345).fetch()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.ledger', this);">Show source &equiv;</a></p>
  <div id="source-stellar.ledger" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ledger</span><span class="p">(</span><span class="n">ledseq</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns single ledger with given ledseq. Can be chained to retreive other</span>
<span class="sd">    details such as transactions that are part of given ledger.</span>

<span class="sd">        l = stellar.ledger(12345).fetch()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Ledgers</span><span class="p">(</span><span class="n">ledseq</span><span class="p">);</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.ledgers">
    <p>def <span class="ident">ledgers</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns ledgers that are being processed be 
on stellar network.</p>
<div class="codehilite"><pre><span></span>ls = stellar.ledgers().fetch(
                cursor=15, order=&#39;asc&#39;).entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.ledgers', this);">Show source &equiv;</a></p>
  <div id="source-stellar.ledgers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">ledgers</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns ledgers that are being processed be </span>
<span class="sd">    on stellar network.</span>

<span class="sd">        ls = stellar.ledgers().fetch(</span>
<span class="sd">                        cursor=15, order=&#39;asc&#39;).entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Ledgers</span><span class="o">.</span><span class="n">_All</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.new_transaction">
    <p>def <span class="ident">new_transaction</span>(</p><p>account, signers=[], seq=None, fee=None, memo=None, time_bounds=[])</p>
    </div>
    

    
  
    <div class="desc"><p>Creates new transaction.
account - can be public key or secret. If account is self signed then
secret of the account is sufficient. Otherwise public key in account parameter
and signers must have secrets of the necessary signers of that account.
seq - sequence of transaction(int), if not given will get last sequence and increment by one
fee - fee(int), if given, will be used instead of default fee of 100 stroops/op.
memo - optional text memo in string format or tuple (memo_type, memo_data) for other formats. 
       available other formats are ('id', 'hash', 'return')
time_bounds - if given, upper and lower bounds for the transaction to be effective.</p>
<p>Can be used with with-statement as follows:</p>
<div class="codehilite"><pre><span></span>with new_transaction(account, memo=&#39;double payment&#39;) as t:
    t.pay(destination1, amount1)
    t.pay(destination2, amount2)
</pre></div>


<p>This will autmoatically submit the transaction when with-statement completes.</p>
<p>Each operation in transaction costs atleast a base fee (which is 100 stroops).
So if you submit 5 different operations in single transaction it will cost you
atleast 500 stroops. Only exception are set_options operation. So if you 
set inflation destination and auth flags in single transaction then it will only
cost you 100 stroops.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.new_transaction', this);">Show source &equiv;</a></p>
  <div id="source-stellar.new_transaction" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">new_transaction</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">signers</span><span class="o">=</span><span class="p">[],</span> <span class="n">seq</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fee</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">time_bounds</span><span class="o">=</span><span class="p">[]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates new transaction.</span>
<span class="sd">    account - can be public key or secret. If account is self signed then</span>
<span class="sd">    secret of the account is sufficient. Otherwise public key in account parameter</span>
<span class="sd">    and signers must have secrets of the necessary signers of that account.</span>
<span class="sd">    seq - sequence of transaction(int), if not given will get last sequence and increment by one</span>
<span class="sd">    fee - fee(int), if given, will be used instead of default fee of 100 stroops/op.</span>
<span class="sd">    memo - optional text memo in string format or tuple (memo_type, memo_data) for other formats. </span>
<span class="sd">           available other formats are (&#39;id&#39;, &#39;hash&#39;, &#39;return&#39;)</span>
<span class="sd">    time_bounds - if given, upper and lower bounds for the transaction to be effective.</span>

<span class="sd">    Can be used with with-statement as follows:</span>

<span class="sd">        with new_transaction(account, memo=&#39;double payment&#39;) as t:</span>
<span class="sd">            t.pay(destination1, amount1)</span>
<span class="sd">            t.pay(destination2, amount2)</span>

<span class="sd">    This will autmoatically submit the transaction when with-statement completes.</span>

<span class="sd">    Each operation in transaction costs atleast a base fee (which is 100 stroops).</span>
<span class="sd">    So if you submit 5 different operations in single transaction it will cost you</span>
<span class="sd">    atleast 500 stroops. Only exception are set_options operation. So if you </span>
<span class="sd">    set inflation destination and auth flags in single transaction then it will only</span>
<span class="sd">    cost you 100 stroops. </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">NewTransaction</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">signers</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">fee</span><span class="p">,</span> <span class="n">memo</span><span class="p">,</span> <span class="n">time_bounds</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.operation">
    <p>def <span class="ident">operation</span>(</p><p>opid)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns single opreation with given opid
to be fetched from stellar network.</p>
<div class="codehilite"><pre><span></span>o = stellar.operation(&#39;28551568194277377&#39;).fetch()
o_effs = stellar.operation(&#39;28551568194277377&#39;).
            effects().fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.operation', this);">Show source &equiv;</a></p>
  <div id="source-stellar.operation" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">opid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns single opreation with given opid</span>
<span class="sd">    to be fetched from stellar network.</span>

<span class="sd">        o = stellar.operation(&#39;28551568194277377&#39;).fetch()</span>
<span class="sd">        o_effs = stellar.operation(&#39;28551568194277377&#39;).</span>
<span class="sd">                    effects().fetch().entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Operations</span><span class="p">(</span><span class="n">opid</span><span class="p">);</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.operations">
    <p>def <span class="ident">operations</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns all the operaion that are being performed 
on stellar network.</p>
<div class="codehilite"><pre><span></span>ops = stellar.operations().fetch(
                limit=5, order=&#39;desc&#39;)
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.operations', this);">Show source &equiv;</a></p>
  <div id="source-stellar.operations" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">operations</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all the operaion that are being performed </span>
<span class="sd">    on stellar network.</span>

<span class="sd">        ops = stellar.operations().fetch(</span>
<span class="sd">                        limit=5, order=&#39;desc&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.orderbook">
    <p>def <span class="ident">orderbook</span>(</p><p>buying, selling)</p>
    </div>
    

    
  
    <div class="desc"><p>All the pending offers where people are 'buying' asset in exchange of
'selling' asset.</p>
<div class="codehilite"><pre><span></span>book = stellar.orderbook(selling=(&#39;AST1&#39;, &#39;GAEE__ADED__&#39;),
        buying=(&#39;AST2&#39;, &#39;GDAA__3EFD__&#39;)).fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.orderbook', this);">Show source &equiv;</a></p>
  <div id="source-stellar.orderbook" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">orderbook</span><span class="p">(</span><span class="n">buying</span><span class="p">,</span> <span class="n">selling</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    All the pending offers where people are &#39;buying&#39; asset in exchange of</span>
<span class="sd">    &#39;selling&#39; asset.</span>

<span class="sd">        book = stellar.orderbook(selling=(&#39;AST1&#39;, &#39;GAEE__ADED__&#39;),</span>
<span class="sd">                buying=(&#39;AST2&#39;, &#39;GDAA__3EFD__&#39;)).fetch().entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Orderbooks</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="n">buying</span><span class="p">,</span> <span class="n">selling</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.payments">
    <p>def <span class="ident">payments</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns all the payment operation that are done 
on stellar network.</p>
<div class="codehilite"><pre><span></span>ps = stellar.payments().fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.payments', this);">Show source &equiv;</a></p>
  <div id="source-stellar.payments" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">payments</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all the payment operation that are done </span>
<span class="sd">    on stellar network.</span>

<span class="sd">        ps = stellar.payments().fetch().entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.random_keypair">
    <p>def <span class="ident">random_keypair</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Generates pair of (secret,account-id).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.random_keypair', this);">Show source &equiv;</a></p>
  <div id="source-stellar.random_keypair" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">random_keypair</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Generates pair of (secret,account-id). &quot;&quot;&quot;</span>
    <span class="n">seed</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">urandom</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
    <span class="n">signing_key</span> <span class="o">=</span> <span class="n">ed25519</span><span class="o">.</span><span class="n">SigningKey</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">verifying_key</span> <span class="o">=</span> <span class="n">signing_key</span><span class="o">.</span><span class="n">get_verifying_key</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">encode_key</span><span class="p">(</span><span class="n">key_type</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">payload</span> <span class="o">=</span> <span class="n">binascii</span><span class="o">.</span><span class="n">a2b_hex</span><span class="p">(</span><span class="n">KEY_TYPES</span><span class="p">[</span><span class="n">key_type</span><span class="p">])</span> <span class="o">+</span> <span class="n">key</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">crc16</span><span class="o">.</span><span class="n">crc16xmodem</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">checksum</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">payload</span> <span class="o">+</span> <span class="n">checksum</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">encode_key</span><span class="p">(</span><span class="s1">&#39;seed&#39;</span><span class="p">,</span> <span class="n">signing_key</span><span class="o">.</span><span class="n">to_seed</span><span class="p">()),</span> 
            <span class="n">encode_key</span><span class="p">(</span><span class="s1">&#39;public&#39;</span><span class="p">,</span> <span class="n">verifying_key</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">()))</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.setup_custom_network">
    <p>def <span class="ident">setup_custom_network</span>(</p><p>horizon_url, password)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets network to custom horizon endpoint</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.setup_custom_network', this);">Show source &equiv;</a></p>
  <div id="source-stellar.setup_custom_network" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">setup_custom_network</span><span class="p">(</span><span class="n">horizon_url</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets network to custom horizon endpoint&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">horizon</span><span class="p">,</span> <span class="n">network_id</span><span class="p">,</span> <span class="n">network_password</span>
    <span class="n">horizon</span> <span class="o">=</span> <span class="n">horizon_url</span>
    <span class="n">network_password</span> <span class="o">=</span> <span class="n">password</span>
    <span class="n">network_id</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">network_password</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.setup_public_network">
    <p>def <span class="ident">setup_public_network</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets the current network to stellar.org public network</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.setup_public_network', this);">Show source &equiv;</a></p>
  <div id="source-stellar.setup_public_network" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">setup_public_network</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Sets the current network to stellar.org public network&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">horizon</span><span class="p">,</span> <span class="n">network_id</span><span class="p">,</span> <span class="n">network_password</span>
    <span class="n">horizon</span> <span class="o">=</span> <span class="n">HORIZON_PUBLIC_ENDPOINT</span>
    <span class="n">network_password</span> <span class="o">=</span> <span class="n">NETWORK_PASSWORD_PUBLIC</span>
    <span class="n">network_id</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">network_password</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.setup_test_network">
    <p>def <span class="ident">setup_test_network</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets the current network to stellar.org test network</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.setup_test_network', this);">Show source &equiv;</a></p>
  <div id="source-stellar.setup_test_network" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">setup_test_network</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Sets the current network to stellar.org test network&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">horizon</span><span class="p">,</span> <span class="n">network_id</span><span class="p">,</span> <span class="n">network_password</span>
    <span class="n">horizon</span> <span class="o">=</span> <span class="n">HORIZON_TESTNET_ENDPOINT</span>
    <span class="n">network_password</span> <span class="o">=</span> <span class="n">NETWORK_PASSWORD_TESTNET</span>
    <span class="n">network_id</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">network_password</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.trades">
    <p>def <span class="ident">trades</span>(</p><p>buying, selling)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns all the trade where buying &lt;-&gt; selling assets are being traded.
Curently stellar network always returns resource not found for this query.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.trades', this);">Show source &equiv;</a></p>
  <div id="source-stellar.trades" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">trades</span><span class="p">(</span><span class="n">buying</span><span class="p">,</span> <span class="n">selling</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns all the trade where buying &lt;-&gt; selling assets are being traded.</span>
<span class="sd">    Curently stellar network always returns resource not found for this query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.transaction">
    <p>def <span class="ident">transaction</span>(</p><p>trxid)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns single transaction with given trxid. Can be chained to retrieve
other details of the given transactions such as all operations in given
transaction etc.</p>
<div class="codehilite"><pre><span></span>t = stellar.transaction(&#39;aefe__b781__&#39;).fetch()
t_ops = stellar.transaction(&#39;aefe__b781__&#39;)
            .operations().fetch().entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.transaction', this);">Show source &equiv;</a></p>
  <div id="source-stellar.transaction" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">transaction</span><span class="p">(</span><span class="n">trxid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns single transaction with given trxid. Can be chained to retrieve</span>
<span class="sd">    other details of the given transactions such as all operations in given</span>
<span class="sd">    transaction etc.</span>

<span class="sd">        t = stellar.transaction(&#39;aefe__b781__&#39;).fetch()</span>
<span class="sd">        t_ops = stellar.transaction(&#39;aefe__b781__&#39;)</span>
<span class="sd">                    .operations().fetch().entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Transactions</span><span class="p">(</span><span class="n">trxid</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="stellar.transactions">
    <p>def <span class="ident">transactions</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns transactions thats are being submitted 
to stellar network.</p>
<div class="codehilite"><pre><span></span>ts = stellar.transactions().fetch(
            limit=5, order=&#39;desc&#39;).entries()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.transactions', this);">Show source &equiv;</a></p>
  <div id="source-stellar.transactions" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">transactions</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns transactions thats are being submitted </span>
<span class="sd">    to stellar network.</span>

<span class="sd">        ts = stellar.transactions().fetch(</span>
<span class="sd">                    limit=5, order=&#39;desc&#39;).entries()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">_All</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="stellar.Accounts" class="name">class <span class="ident">Accounts</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Accounts</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Thresholds</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">low_threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;low_threshold&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">med_threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;med_threshold&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">high_threshold</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;high_threshold&#39;</span><span class="p">])</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Thresholds(l=</span><span class="si">%s</span><span class="s1">, m=</span><span class="si">%s</span><span class="s1">, h=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">low_threshold</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">med_threshold</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">high_threshold</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Flags</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_required</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;auth_required&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_revocable</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;auth_revocable&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Flags(required=</span><span class="si">%s</span><span class="s1">, revocable=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_required</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth_revocable</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Balance</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">balance</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;balance&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Balance(</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">balance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">asset_code</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Signer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;public_key&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Signer(</span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">public_key</span><span class="p">),</span>  <span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Data</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Data(</span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Account</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Account:https://www.stellar.org/developers/horizon/reference/resources/account.html&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Construct Account object given data dict having all the account related field.&quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">account_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sequence&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subentry_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;subentry_count&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thresholds</span> <span class="o">=</span> <span class="n">Accounts</span><span class="o">.</span><span class="n">Thresholds</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;thresholds&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">Accounts</span><span class="o">.</span><span class="n">Flags</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;flags&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">balances</span> <span class="o">=</span> <span class="p">[</span><span class="n">Accounts</span><span class="o">.</span><span class="n">Balance</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;balances&#39;</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">signers</span> <span class="o">=</span> <span class="p">[</span><span class="n">Accounts</span><span class="o">.</span><span class="n">Signer</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;signers&#39;</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">Accounts</span><span class="o">.</span><span class="n">Data</span><span class="p">({</span><span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="n">k</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="n">v</span><span class="p">})</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()]</span>
            <span class="k">if</span> <span class="s1">&#39;inflation_destination&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inflation_destination</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;inflation_destination&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">inflation_destination</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Account(id=</span><span class="si">%s</span><span class="s1">,seq=</span><span class="si">%s</span><span class="s1">,balances=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequence</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">balances</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">accid</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">accid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;accid expected&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accid</span> <span class="o">=</span> <span class="n">accid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/accounts/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">accid</span>

    <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Accounts</span><span class="o">.</span><span class="n">Account</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for transactions associated with given account&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given account&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given account&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">offers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for offers associated with given account&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Offers</span><span class="o">.</span><span class="n">_Offers__All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given account&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Accounts">Accounts</a></li>
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Accounts.Account" class="name">var <span class="ident">Account</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Balance" class="name">var <span class="ident">Balance</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Data" class="name">var <span class="ident">Data</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Flags" class="name">var <span class="ident">Flags</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Page" class="name">var <span class="ident">Page</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.Page">Page</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Signer" class="name">var <span class="ident">Signer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.Thresholds" class="name">var <span class="ident">Thresholds</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.Accounts.accid" class="name">var <span class="ident">accid</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.paginated" class="name">var <span class="ident">paginated</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.streamed" class="name">var <span class="ident">streamed</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Accounts.url" class="name">var <span class="ident">url</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, accid)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">accid</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">accid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;accid expected&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">accid</span> <span class="o">=</span> <span class="n">accid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/accounts/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">accid</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.effects">
    <p>def <span class="ident">effects</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for effects associated with given account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given account&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.fetch">fetch</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.first">first</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.last">last</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.offers">
    <p>def <span class="ident">offers</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for offers associated with given account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.offers', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.offers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">offers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for offers associated with given account&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Offers</span><span class="o">.</span><span class="n">_Offers__All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.operations">
    <p>def <span class="ident">operations</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for operations associated with given account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.operations', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.operations" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given account&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.payments">
    <p>def <span class="ident">payments</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for payments associated with given account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.payments', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.payments" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given account&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.stream">stream</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Accounts.transactions">
    <p>def <span class="ident">transactions</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for transactions associated with given account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Accounts.transactions', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Accounts.transactions" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for transactions associated with given account&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Asset" class="name">class <span class="ident">Asset</span></p>
      
  
    <div class="desc"><p>Asset represents either stellar native asset or asset code with given issuer</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Asset', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Asset" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Asset</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Asset represents either stellar native asset or asset code with given issuer &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructs Asset given data dict having following keys: asset_type, </span>
<span class="sd">        asset_code, asset_issuer.  if asset_type is &#39;native&#39; then rest of the </span>
<span class="sd">        fields are not needed. If prefix is passed then all above keys are </span>
<span class="sd">        prefixed with it and then searched in the dict, e.g. if prefix = &#39;sender&#39;</span>
<span class="sd">        then &#39;sender_asset_type&#39;, etc will be searched instead of default asset_type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">type_key</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_type&#39;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">type_key</span><span class="p">]</span>
        <span class="sd">&#39;&#39;&#39;asset type (either native, credit_alphanum4 or credit_alphanum12)&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="sd">&#39;&#39;&#39;asset code for asset&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_issuer</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="sd">&#39;&#39;&#39;asset issuer of the non-native asset&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="sd">&#39;&#39;&#39;limit on holding the asset if any&#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">!=</span> <span class="s1">&#39;native&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_code&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asset_issuer</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_issuer&#39;</span><span class="p">]</span>
            <span class="n">limit_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;limit&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">limit_key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">limit_key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="s1">&#39;XLM&#39;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Asset(native)&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">==</span> <span class="s1">&#39;native&#39;</span> <span class="k">else</span> <span class="s1">&#39;Asset(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&#39;</span>\
                <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span><span class="p">,</span> <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asset_issuer</span><span class="p">))</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">format_url_parameters</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Formats asset for url parameter. e.g. asset_type=credit_alphanum4&amp;asset_code=USD&amp;asset_issuer=GFED..CBAH</span>
<span class="sd">        asset is tuple in form (asset_code,asset_issuer) or &#39;native&#39;</span>
<span class="sd">        if prefix is given then url parameter will be prefixed with it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">((</span><span class="nb">type</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="nb">unicode</span><span class="p">)</span> <span class="ow">and</span> <span class="n">asset</span> <span class="o">==</span> <span class="s1">&#39;native&#39;</span><span class="p">)</span> \
                <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;native&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=native&#39;</span> <span class="o">%</span> <span class="n">prefix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Needed asset in (asset_code, asset_issuer) format or &quot;native&quot;&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=credit_alphanum4&amp;</span><span class="si">%s</span><span class="s1">asset_code=</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">asset_issuer=</span><span class="si">%s</span><span class="s1">&#39;</span>\
                        <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=credit_alphanum12&amp;</span><span class="si">%s</span><span class="s1">asset_code=</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">asset_issuer=</span><span class="si">%s</span><span class="s1">&#39;</span>\
                        <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Asset">Asset</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Asset.format_url_parameters">
    <p>def <span class="ident">format_url_parameters</span>(</p><p>asset, prefix=&#39;&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Formats asset for url parameter. e.g. asset_type=credit_alphanum4&amp;asset_code=USD&amp;asset_issuer=GFED..CBAH
asset is tuple in form (asset_code,asset_issuer) or 'native'
if prefix is given then url parameter will be prefixed with it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Asset.format_url_parameters', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Asset.format_url_parameters" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">format_url_parameters</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats asset for url parameter. e.g. asset_type=credit_alphanum4&amp;asset_code=USD&amp;asset_issuer=GFED..CBAH</span>
<span class="sd">    asset is tuple in form (asset_code,asset_issuer) or &#39;native&#39;</span>
<span class="sd">    if prefix is given then url parameter will be prefixed with it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">((</span><span class="nb">type</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="nb">unicode</span><span class="p">)</span> <span class="ow">and</span> <span class="n">asset</span> <span class="o">==</span> <span class="s1">&#39;native&#39;</span><span class="p">)</span> \
            <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;native&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=native&#39;</span> <span class="o">%</span> <span class="n">prefix</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Needed asset in (asset_code, asset_issuer) format or &quot;native&quot;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=credit_alphanum4&amp;</span><span class="si">%s</span><span class="s1">asset_code=</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">asset_issuer=</span><span class="si">%s</span><span class="s1">&#39;</span>\
                    <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_type=credit_alphanum12&amp;</span><span class="si">%s</span><span class="s1">asset_code=</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">asset_issuer=</span><span class="si">%s</span><span class="s1">&#39;</span>\
                    <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">asset</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.Asset.asset_code" class="name">var <span class="ident">asset_code</span></p>
            

            
  
    <div class="desc"><p>asset code for asset</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Asset.asset_issuer" class="name">var <span class="ident">asset_issuer</span></p>
            

            
  
    <div class="desc"><p>asset issuer of the non-native asset</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Asset.asset_type" class="name">var <span class="ident">asset_type</span></p>
            

            
  
    <div class="desc"><p>asset type (either native, credit_alphanum4 or credit_alphanum12)</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Asset.limit" class="name">var <span class="ident">limit</span></p>
            

            
  
    <div class="desc"><p>limit on holding the asset if any</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Asset.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, data, prefix=&#39;&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Constructs Asset given data dict having following keys: asset_type, 
asset_code, asset_issuer.  if asset_type is 'native' then rest of the 
fields are not needed. If prefix is passed then all above keys are 
prefixed with it and then searched in the dict, e.g. if prefix = 'sender'
then 'sender_asset_type', etc will be searched instead of default asset_type.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Asset.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Asset.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Constructs Asset given data dict having following keys: asset_type, </span>
<span class="sd">    asset_code, asset_issuer.  if asset_type is &#39;native&#39; then rest of the </span>
<span class="sd">    fields are not needed. If prefix is passed then all above keys are </span>
<span class="sd">    prefixed with it and then searched in the dict, e.g. if prefix = &#39;sender&#39;</span>
<span class="sd">    then &#39;sender_asset_type&#39;, etc will be searched instead of default asset_type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">type_key</span> <span class="o">=</span> <span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_type&#39;</span> 
    <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">type_key</span><span class="p">]</span>
    <span class="sd">&#39;&#39;&#39;asset type (either native, credit_alphanum4 or credit_alphanum12)&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="sd">&#39;&#39;&#39;asset code for asset&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">asset_issuer</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="sd">&#39;&#39;&#39;asset issuer of the non-native asset&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="sd">&#39;&#39;&#39;limit on holding the asset if any&#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">!=</span> <span class="s1">&#39;native&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_code&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_issuer</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;asset_issuer&#39;</span><span class="p">]</span>
        <span class="n">limit_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="s1">&#39;limit&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">limit_key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">limit_key</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="s1">&#39;XLM&#39;</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Assets" class="name">class <span class="ident">Assets</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Assets', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Assets" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Assets</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">AssetDetails</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">num_accounts</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;num_accounts&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">Accounts</span><span class="o">.</span><span class="n">Flags</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;flags&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toml</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_links&#39;</span><span class="p">][</span><span class="s1">&#39;toml&#39;</span><span class="p">][</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">asset</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="n">asset_issuer</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/assets?&#39;</span>
            <span class="k">if</span> <span class="n">asset_code</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_code=</span><span class="si">%s</span><span class="s1">&amp;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">asset_issuer</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">asset_issuer=</span><span class="si">%s</span><span class="s1">&amp;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">asset_issuer</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Assets</span><span class="o">.</span><span class="n">AssetDetails</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Assets">Assets</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Assets.AssetDetails" class="name">var <span class="ident">AssetDetails</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Effects" class="name">class <span class="ident">Effects</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Effects</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Effect</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">effectid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;account&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_i</span> <span class="o">=</span> <span class="n">t</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type_i&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">starting_balance</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;starting_balance&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">thresholds</span> <span class="o">=</span> <span class="n">Accounts</span><span class="o">.</span><span class="n">Thresholds</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">home_domain</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;home_domain&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
                <span class="k">if</span> <span class="s1">&#39;auth_required_flag&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">auth_required</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;auth_required_flag&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">auth_required</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;auth_revokable_flag&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">auth_revokable</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;auth_revokable_flag&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">auth_revokable</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">10</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">12</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">public_key</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;public_key&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">20</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">21</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">22</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustlimit</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;limit&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustasset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">23</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">24</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustor</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;trustor&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;asset_type&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset_code</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;asset_code&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">30</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">31</span> <span class="ow">or</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">32</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">33</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">seller</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;seller&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">offer_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;offer_id&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sold_amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sold_amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sold_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;sold_&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bought_amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;bought_amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bought_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;bought_&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">40</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;type not supported = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Effect(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">effectid</span><span class="p">,</span>\
                    <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>


    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/effects&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">Effect</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Effects">Effects</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Effects.Effect" class="name">var <span class="ident">Effect</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Fetchable" class="name">class <span class="ident">Fetchable</span></p>
      
  
    <div class="desc"><p>Base class representing resource that can be retrieved from horizon endpoint. 
Resource can be fetched or streamed. Fetched object returns single object for point queries
or Page object for paginated queries. Stream object returns generator which 
can be iterated.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Fetchable', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Fetchable" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Fetchable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class representing resource that can be retrieved from horizon endpoint. </span>
<span class="sd">    Resource can be fetched or streamed. Fetched object returns single object for point queries</span>
<span class="sd">    or Page object for paginated queries. Stream object returns generator which </span>
<span class="sd">    can be iterated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">class</span> <span class="nc">Page</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Page containing records, link to next page and previous page. &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapper</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapper</span> <span class="o">=</span> <span class="n">mapper</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_embedded&#39;</span><span class="p">][</span><span class="s1">&#39;records&#39;</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nextlink</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_links&#39;</span><span class="p">][</span><span class="s1">&#39;next&#39;</span><span class="p">][</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prevlink</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_links&#39;</span><span class="p">][</span><span class="s1">&#39;prev&#39;</span><span class="p">][</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">entries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;returns records in current page&quot;&quot;&quot;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">records</span>

        <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;fetches next page from the network and returns page object&quot;&quot;&quot;</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nextlink</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;fetches prev page from the network and returns page object&quot;&quot;&quot;</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prevlink</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapper</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">        then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">        and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
            <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
            <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                        <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">        resource or None if thier are not records for given query. </span>
<span class="sd">        e.g. to fetch first transaction:</span>

<span class="sd">            &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">        resource or None if thier are not records for given query.</span>
<span class="sd">        e.g. to fetch last transaction:</span>

<span class="sd">            &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">        You can start stream from given cursor and order specified in the input.</span>
<span class="sd">        Returned stream can be iterable using for-loop.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
            <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
            <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                        <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>

            <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Function that subclass need to implemet to convert parsed json object to</span>
<span class="sd">        python object, according to resource that is requested</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Fetchable.Page" class="name">var <span class="ident">Page</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Fetchable.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Fetchable.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Fetchable.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Fetchable.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Fetchable.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Fetchable.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Fetchable.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Fetchable.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Fetchable.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Fetchable.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Fetchable.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Fetchable.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Ledgers" class="name">class <span class="ident">Ledgers</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Ledgers</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Ledger</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ledger: https://www.stellar.org/developers/horizon/reference/resources/ledger.html&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ledid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hash</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_hash</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;prev_hash&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sequence&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transaction_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;transaction_count&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;operation_count&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">closed_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;closed_at&#39;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">total_coins</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;total_coins&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fee_pool</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;fee_pool&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">base_fee</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;base_fee&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">base_reserve</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;base_reserve&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_tx_set_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;max_tx_set_size&#39;</span><span class="p">])</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Ledger(id=</span><span class="si">%s</span><span class="s1">,ledseq=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ledid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ledseq</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ledseq</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;ledger id expected&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span> <span class="o">=</span> <span class="n">ledseq</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/ledgers/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span>

    <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Ledgers</span><span class="o">.</span><span class="n">Ledger</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for transactions associated with given ledger&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given ledger&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given ledger&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given ledger&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/ledgers&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Ledgers</span><span class="o">.</span><span class="n">Ledger</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Ledgers">Ledgers</a></li>
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Ledgers.Ledger" class="name">var <span class="ident">Ledger</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Ledgers.Page" class="name">var <span class="ident">Page</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.Page">Page</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.Ledgers.ledseq" class="name">var <span class="ident">ledseq</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Ledgers.paginated" class="name">var <span class="ident">paginated</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Ledgers.streamed" class="name">var <span class="ident">streamed</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Ledgers.url" class="name">var <span class="ident">url</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, ledseq)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ledseq</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ledseq</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;ledger id expected&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span> <span class="o">=</span> <span class="n">ledseq</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/ledgers/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">ledseq</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.effects">
    <p>def <span class="ident">effects</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for effects associated with given ledger</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given ledger&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.fetch">fetch</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.first">first</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.last">last</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.operations">
    <p>def <span class="ident">operations</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for operations associated with given ledger</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.operations', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.operations" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given ledger&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.payments">
    <p>def <span class="ident">payments</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for payments associated with given ledger</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.payments', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.payments" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given ledger&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.stream">stream</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Ledgers.transactions">
    <p>def <span class="ident">transactions</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for transactions associated with given ledger</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Ledgers.transactions', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Ledgers.transactions" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for transactions associated with given ledger&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.NewTransaction" class="name">class <span class="ident">NewTransaction</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">NewTransaction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">signers</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">fee</span><span class="p">,</span> <span class="n">memo</span><span class="p">,</span> <span class="n">time_bounds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">account</span>
        <span class="sd">&#39;&#39;&#39;account on which transaction will be executed&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signers</span> <span class="o">=</span> <span class="n">signers</span>
        <span class="sd">&#39;&#39;&#39;signers of the transaction. if account is not secret, key then signers must be provided&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="n">seq</span>
        <span class="sd">&#39;&#39;&#39;sequence of the transaction&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="o">=</span> <span class="n">fee</span>
        <span class="sd">&#39;&#39;&#39;fee for the transaction&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="n">memo</span>
        <span class="sd">&#39;&#39;&#39;memo of the transaction&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span> <span class="o">=</span> <span class="n">time_bounds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="sd">&#39;&#39;&#39;operations in transaction&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">signers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;signer(s) missing&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">signers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">signers</span> <span class="o">=</span> <span class="p">[</span><span class="n">account</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">account_from_secret</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
	
    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">submit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Submits transaction to network. &quot;&quot;&quot;</span>
        <span class="n">account_seq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="k">else</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">account</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span><span class="o">.</span><span class="n">sequence</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__add_set_options_op</span><span class="p">()</span>

        <span class="n">base_fee</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="k">else</span> <span class="n">BASE_FEE</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span>
        <span class="n">time_bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">time_bounds_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span><span class="p">)]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="n">xdr</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">xdr</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">trxxdr</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Transaction</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">),</span> 
                <span class="n">base_fee</span><span class="p">,</span> 
                <span class="n">account_seq</span><span class="p">,</span>
                <span class="n">time_bounds</span><span class="p">,</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">memo_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">memo</span><span class="p">),</span> 
                <span class="bp">self</span><span class="o">.</span><span class="n">ops</span><span class="p">,</span>
                <span class="n">xdr</span><span class="p">)</span>

        <span class="n">trxtypepacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
        <span class="n">trxtypepacker</span><span class="o">.</span><span class="n">pack_EnvelopeType</span><span class="p">(</span><span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ENVELOPE_TYPE_TX</span><span class="p">)</span>
        <span class="n">trxtype</span> <span class="o">=</span> <span class="n">trxtypepacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>

        <span class="n">trxpacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
        <span class="n">trxpacker</span><span class="o">.</span><span class="n">pack_Transaction</span><span class="p">(</span><span class="n">trxxdr</span><span class="p">)</span>
        <span class="n">trx</span> <span class="o">=</span> <span class="n">trxpacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>

        <span class="n">trx_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">network_id</span> <span class="o">+</span> <span class="n">trxtype</span> <span class="o">+</span> <span class="n">trx</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>

        <span class="n">signatures</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">signer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">signers</span><span class="p">:</span>
            <span class="n">signatures</span> <span class="o">+=</span> <span class="p">[</span><span class="n">_sign_trx_hash</span><span class="p">(</span><span class="n">signer</span><span class="p">,</span> <span class="n">trx_hash</span><span class="p">)]</span>

        <span class="n">tre</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">TransactionEnvelope</span><span class="p">(</span><span class="n">trxxdr</span><span class="p">,</span> <span class="n">signatures</span><span class="p">)</span>

        <span class="n">txpacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
        <span class="n">txpacker</span><span class="o">.</span><span class="n">pack_TransactionEnvelope</span><span class="p">(</span><span class="n">tre</span><span class="p">)</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">txpacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">())</span>

        <span class="n">res</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="s1">&#39;/transactions/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tx&#39;</span><span class="p">:</span> <span class="n">payload</span> <span class="p">})</span>
        <span class="k">if</span> <span class="s1">&#39;status&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="s1">&#39;extras&#39;</span> <span class="ow">in</span> <span class="n">res</span> <span class="ow">and</span> <span class="s1">&#39;result_codes&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;extras&#39;</span><span class="p">]:</span>
                <span class="n">result_codes</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;extras&#39;</span><span class="p">][</span><span class="s1">&#39;result_codes&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span> <span class="o">=</span> <span class="n">result_codes</span><span class="p">[</span><span class="s1">&#39;transaction&#39;</span><span class="p">]</span>\
                        <span class="k">if</span> <span class="s1">&#39;transaction&#39;</span> <span class="ow">in</span> <span class="n">result_codes</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span> <span class="o">=</span> <span class="n">result_codes</span><span class="p">[</span><span class="s1">&#39;operations&#39;</span><span class="p">]</span>\
                        <span class="k">if</span> <span class="s1">&#39;operations&#39;</span> <span class="ow">in</span> <span class="n">result_codes</span> <span class="k">else</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ledid</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;ledger&#39;</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">is_success</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns whether transaction was successful after submitting to network &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If transaction was successful then (transaction-id, ledger-id) pair&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_success</span><span class="p">():</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trxid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ledid</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Transaction failed. Check errors()&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If transaction was not successful then (transaction-error, list-of operation error) pair&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_success</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Transaction succeeded. Check result()&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">starting_balance</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates account with given starting balance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CREATE_ACCOUNT</span>
        <span class="n">body</span><span class="o">.</span><span class="n">createAccountOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CreateAccountOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">starting_balance</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="s1">&#39;native&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pays given account with given amount of specified asset.</span>
<span class="sd">        asset can be &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">PAYMENT</span>
        <span class="n">body</span><span class="o">.</span><span class="n">paymentOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">PaymentOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">amount</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">pathpay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">dest_amount</span><span class="p">,</span> <span class="n">dest_asset</span><span class="p">,</span> <span class="n">max_send</span><span class="p">,</span> <span class="n">send_asset</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Does the pathpay operation for given destination account, for dest_amount of dest_asset.</span>
<span class="sd">        It will send send_amount of send_asset upto max of max_send. Optionally path containing</span>
<span class="sd">        asset for intermediate exchanges can be specified (those path asset can be &#39;native&#39; or </span>
<span class="sd">        tuple in format (asset_code, asset_issuer).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pathxdr</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1">#XXX is this tested?</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">pathxdr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>

        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">PATH_PAYMENT</span>
        <span class="n">body</span><span class="o">.</span><span class="n">pathPaymentOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">PathPaymentOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">send_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">max_send</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">destination</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">dest_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">dest_amount</span><span class="p">),</span>
                <span class="n">pathxdr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. </span>
<span class="sd">        sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">        price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_offer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_passive_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates passive offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. </span>
<span class="sd">        sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">        price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CREATE_PASSIVE_OFFER</span>
        <span class="n">body</span><span class="o">.</span><span class="n">createPassiveOfferOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CreatePassiveOfferOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">sell_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">buy_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">sell_amount</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">price_to_xdr</span><span class="p">(</span><span class="n">price</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">update_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Updates offer with given offer_id with specified details.</span>
<span class="sd">        sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">        price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">MANAGE_OFFER</span>
        <span class="n">body</span><span class="o">.</span><span class="n">manageOfferOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ManageOfferOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">sell_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">buy_asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">sell_amount</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">price_to_xdr</span><span class="p">(</span><span class="n">price</span><span class="p">),</span>
                <span class="n">offer_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes existing offer with given offer_id of sell_asset &lt;-&gt; buy_asset trade</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_offer</span><span class="p">(</span><span class="n">offer_id</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">set_inflation_destination</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the inflation of given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;inflation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_revocable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_immutable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the auth flags of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="n">auth_flags</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">auth_required</span> <span class="ow">or</span> <span class="n">auth_revocable</span> <span class="ow">or</span> <span class="n">auth_immutable</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">auth_required</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">auth_revocable</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">auth_immutable</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">4</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;set_flags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_flags</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">clear_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_revocable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_immutable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear auth flags of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="n">auth_flags</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">auth_required</span> <span class="ow">or</span> <span class="n">auth_revocable</span> <span class="ow">or</span> <span class="n">auth_immutable</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">auth_required</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">auth_revocable</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">auth_immutable</span><span class="p">:</span>
                <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">4</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;clear_flags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_flags</span>

        <span class="k">return</span> <span class="bp">self</span>
	
    <span class="k">def</span> <span class="nf">set_thresholds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">medium</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets threshold of given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">high</span> <span class="ow">or</span> <span class="n">medium</span> <span class="ow">or</span> <span class="n">low</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">high</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;high&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">high</span>
            <span class="k">if</span> <span class="n">medium</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;medium&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">medium</span>
            <span class="k">if</span> <span class="n">low</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;low&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">low</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_master_weight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets master weight of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;master_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_signer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signer_type</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sigers of the given account (SET_OPTIONS operation).</span>
<span class="sd">        available signer_type are (&#39;ed25519PublicKey&#39;,&#39;hashX&#39;,&#39;preAuthTx&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;signer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">signer_type</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
	
    <span class="k">def</span> <span class="nf">set_home_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">domain</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets home domain of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;home_domain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">domain</span><span class="p">;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__add_set_options_op</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">toarray</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">,</span> <span class="n">x</span> <span class="p">:</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">m</span> <span class="k">else</span> <span class="p">[</span><span class="n">m</span><span class="p">[</span><span class="n">x</span><span class="p">]]</span>

            <span class="n">inflation_destination_</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="s1">&#39;inflation&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span>\
                    <span class="k">else</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;inflation&#39;</span><span class="p">])]</span>
            <span class="n">set_flags_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;set_flags&#39;</span><span class="p">)</span>
            <span class="n">clear_flags_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;clear_flags&#39;</span><span class="p">)</span>
            <span class="n">high_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;high&#39;</span><span class="p">)</span>
            <span class="n">medium_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;medium&#39;</span><span class="p">)</span>
            <span class="n">low_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;low&#39;</span><span class="p">)</span>
            <span class="n">master_weight_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;master_weight&#39;</span><span class="p">)</span>
            <span class="n">signer_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;signer&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">signer_</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">signer_</span> <span class="o">=</span> <span class="n">signer_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">signer_</span> <span class="o">=</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">signer_to_xdr</span><span class="p">(</span><span class="n">signer_</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">signer_</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">signer_</span><span class="p">[</span><span class="mi">2</span><span class="p">])]</span>
            <span class="n">home_domain_</span> <span class="o">=</span> <span class="n">toarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">,</span> <span class="s1">&#39;home_domain&#39;</span><span class="p">)</span>

            <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
            <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">SET_OPTIONS</span>
            <span class="n">body</span><span class="o">.</span><span class="n">setOptionsOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SetOptionsOp</span><span class="p">(</span>
                    <span class="n">inflation_destination_</span><span class="p">,</span>
                    <span class="n">clear_flags_</span><span class="p">,</span> <span class="n">set_flags_</span><span class="p">,</span>
                    <span class="n">master_weight_</span><span class="p">,</span>
                    <span class="n">low_</span><span class="p">,</span> <span class="n">medium_</span><span class="p">,</span> <span class="n">high_</span><span class="p">,</span>
                    <span class="n">home_domain_</span><span class="p">,</span>
                    <span class="n">signer_</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">create_or_update_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates or update trust for given asset with specified limit.</span>
<span class="sd">        asset is tuple in format (asset_code, asset_issuer) or &#39;native&#39;.</span>
<span class="sd">        limit is amount indicating limit of given asset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CHANGE_TRUST</span>
        <span class="n">body</span><span class="o">.</span><span class="n">changeTrustOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ChangeTrustOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">asset</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">limit</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove trust for given asset. </span>
<span class="sd">        asset is tuple in format (asset_code, asset_issuer) or &#39;native&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_or_update_trust</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__perform_trust_op</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="n">is_allow</span><span class="p">):</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ALLOW_TRUST</span>
        <span class="n">body</span><span class="o">.</span><span class="n">allowTrustOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">AllowTrustOp</span><span class="p">(</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">),</span>
                <span class="n">XDR</span><span class="o">.</span><span class="n">assetcode_to_xdr</span><span class="p">(</span><span class="n">asset_code</span><span class="p">),</span>
                <span class="n">is_allow</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">authorize_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Authorize given account to perform transaction for given asset_code. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perform_trust_op</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
       
    <span class="k">def</span> <span class="nf">deauthorize_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deauthorize given account to perform transaction for given asset_code. &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perform_trust_op</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">merge_this_account_with</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Merges current account with input account&quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ACCOUNT_MERGE</span>
        <span class="n">body</span><span class="o">.</span><span class="n">destination</span> <span class="o">=</span> <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">run_inflation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Runs inflation process with this account &quot;&quot;&quot;</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">INFLATION</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">put_or_update_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Puts the key value pair if not already present. If key is already presents</span>
<span class="sd">        then updates old value with input value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)]</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="p">[]</span>

        <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">MANAGE_DATA</span>
        <span class="n">body</span><span class="o">.</span><span class="n">manageDataOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ManageDataOp</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes the key value pair associated with given input key&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">put_or_update_data</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.NewTransaction">NewTransaction</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.NewTransaction.account" class="name">var <span class="ident">account</span></p>
            

            
  
    <div class="desc"><p>account on which transaction will be executed</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.fee" class="name">var <span class="ident">fee</span></p>
            

            
  
    <div class="desc"><p>fee for the transaction</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.memo" class="name">var <span class="ident">memo</span></p>
            

            
  
    <div class="desc"><p>memo of the transaction</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.ops" class="name">var <span class="ident">ops</span></p>
            

            
  
    <div class="desc"><p>operations in transaction</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.seq" class="name">var <span class="ident">seq</span></p>
            

            
  
    <div class="desc"><p>sequence of the transaction</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.set_options_op" class="name">var <span class="ident">set_options_op</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.signers" class="name">var <span class="ident">signers</span></p>
            

            
  
    <div class="desc"><p>signers of the transaction. if account is not secret, key then signers must be provided</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.NewTransaction.time_bounds" class="name">var <span class="ident">time_bounds</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, account, signers, seq, fee, memo, time_bounds)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">signers</span><span class="p">,</span> <span class="n">seq</span><span class="p">,</span> <span class="n">fee</span><span class="p">,</span> <span class="n">memo</span><span class="p">,</span> <span class="n">time_bounds</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">account</span>
    <span class="sd">&#39;&#39;&#39;account on which transaction will be executed&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">signers</span> <span class="o">=</span> <span class="n">signers</span>
    <span class="sd">&#39;&#39;&#39;signers of the transaction. if account is not secret, key then signers must be provided&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="n">seq</span>
    <span class="sd">&#39;&#39;&#39;sequence of the transaction&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="o">=</span> <span class="n">fee</span>
    <span class="sd">&#39;&#39;&#39;fee for the transaction&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="n">memo</span>
    <span class="sd">&#39;&#39;&#39;memo of the transaction&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span> <span class="o">=</span> <span class="n">time_bounds</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="sd">&#39;&#39;&#39;operations in transaction&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">signers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;signer(s) missing&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">signers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signers</span> <span class="o">=</span> <span class="p">[</span><span class="n">account</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">account_from_secret</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.add_offer">
    <p>def <span class="ident">add_offer</span>(</p><p>self, sell_amount, sell_asset, buy_asset, price)</p>
    </div>
    

    
  
    <div class="desc"><p>Adds offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. 
sell_asset, buy_asset are asset in 'native' or tuple in format (asset_code, asset_issuer).
price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.add_offer', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.add_offer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Adds offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. </span>
<span class="sd">    sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">    price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_offer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.add_passive_offer">
    <p>def <span class="ident">add_passive_offer</span>(</p><p>self, sell_amount, sell_asset, buy_asset, price)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates passive offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. 
sell_asset, buy_asset are asset in 'native' or tuple in format (asset_code, asset_issuer).
price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.add_passive_offer', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.add_passive_offer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_passive_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates passive offer of sell_amount for selling asset sell_asset, to buy buy_asset at given price. </span>
<span class="sd">    sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">    price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CREATE_PASSIVE_OFFER</span>
    <span class="n">body</span><span class="o">.</span><span class="n">createPassiveOfferOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CreatePassiveOfferOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">sell_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">buy_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">sell_amount</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">price_to_xdr</span><span class="p">(</span><span class="n">price</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.authorize_trust">
    <p>def <span class="ident">authorize_trust</span>(</p><p>self, account, asset_code)</p>
    </div>
    

    
  
    <div class="desc"><p>Authorize given account to perform transaction for given asset_code.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.authorize_trust', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.authorize_trust" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">authorize_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Authorize given account to perform transaction for given asset_code. &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perform_trust_op</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.clear_flags">
    <p>def <span class="ident">clear_flags</span>(</p><p>self, auth_required=False, auth_revocable=False, auth_immutable=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear auth flags of the given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.clear_flags', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.clear_flags" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_revocable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_immutable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Clear auth flags of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="n">auth_flags</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">auth_required</span> <span class="ow">or</span> <span class="n">auth_revocable</span> <span class="ow">or</span> <span class="n">auth_immutable</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">auth_required</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">auth_revocable</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">auth_immutable</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;clear_flags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_flags</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.create_account">
    <p>def <span class="ident">create_account</span>(</p><p>self, account, starting_balance)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates account with given starting balance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.create_account', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.create_account" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create_account</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">starting_balance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates account with given starting balance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CREATE_ACCOUNT</span>
    <span class="n">body</span><span class="o">.</span><span class="n">createAccountOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">CreateAccountOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">starting_balance</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.create_or_update_trust">
    <p>def <span class="ident">create_or_update_trust</span>(</p><p>self, asset, limit)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates or update trust for given asset with specified limit.
asset is tuple in format (asset_code, asset_issuer) or 'native'.
limit is amount indicating limit of given asset</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.create_or_update_trust', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.create_or_update_trust" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create_or_update_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">limit</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates or update trust for given asset with specified limit.</span>
<span class="sd">    asset is tuple in format (asset_code, asset_issuer) or &#39;native&#39;.</span>
<span class="sd">    limit is amount indicating limit of given asset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">CHANGE_TRUST</span>
    <span class="n">body</span><span class="o">.</span><span class="n">changeTrustOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ChangeTrustOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">limit</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.deauthorize_trust">
    <p>def <span class="ident">deauthorize_trust</span>(</p><p>self, account, asset_code)</p>
    </div>
    

    
  
    <div class="desc"><p>Deauthorize given account to perform transaction for given asset_code.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.deauthorize_trust', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.deauthorize_trust" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">deauthorize_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deauthorize given account to perform transaction for given asset_code. &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__perform_trust_op</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">asset_code</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.errors">
    <p>def <span class="ident">errors</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>If transaction was not successful then (transaction-error, list-of operation error) pair</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.errors', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.errors" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;If transaction was not successful then (transaction-error, list-of operation error) pair&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_success</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Transaction succeeded. Check result()&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.is_success">
    <p>def <span class="ident">is_success</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns whether transaction was successful after submitting to network</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.is_success', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.is_success" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">is_success</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns whether transaction was successful after submitting to network &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.merge_this_account_with">
    <p>def <span class="ident">merge_this_account_with</span>(</p><p>self, account)</p>
    </div>
    

    
  
    <div class="desc"><p>Merges current account with input account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.merge_this_account_with', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.merge_this_account_with" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">merge_this_account_with</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Merges current account with input account&quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ACCOUNT_MERGE</span>
    <span class="n">body</span><span class="o">.</span><span class="n">destination</span> <span class="o">=</span> <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.pathpay">
    <p>def <span class="ident">pathpay</span>(</p><p>self, destination, dest_amount, dest_asset, max_send, send_asset, path)</p>
    </div>
    

    
  
    <div class="desc"><p>Does the pathpay operation for given destination account, for dest_amount of dest_asset.
It will send send_amount of send_asset upto max of max_send. Optionally path containing
asset for intermediate exchanges can be specified (those path asset can be 'native' or 
tuple in format (asset_code, asset_issuer).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.pathpay', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.pathpay" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">pathpay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination</span><span class="p">,</span> <span class="n">dest_amount</span><span class="p">,</span> <span class="n">dest_asset</span><span class="p">,</span> <span class="n">max_send</span><span class="p">,</span> <span class="n">send_asset</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Does the pathpay operation for given destination account, for dest_amount of dest_asset.</span>
<span class="sd">    It will send send_amount of send_asset upto max of max_send. Optionally path containing</span>
<span class="sd">    asset for intermediate exchanges can be specified (those path asset can be &#39;native&#39; or </span>
<span class="sd">    tuple in format (asset_code, asset_issuer).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pathxdr</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1">#XXX is this tested?</span>
    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">pathxdr</span> <span class="o">+=</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">PATH_PAYMENT</span>
    <span class="n">body</span><span class="o">.</span><span class="n">pathPaymentOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">PathPaymentOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">send_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">max_send</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">destination</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">dest_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">dest_amount</span><span class="p">),</span>
            <span class="n">pathxdr</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.pay">
    <p>def <span class="ident">pay</span>(</p><p>self, account, amount, asset=&#39;native&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Pays given account with given amount of specified asset.
asset can be 'native' or tuple in format (asset_code, asset_issuer).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.pay', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.pay" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="s1">&#39;native&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pays given account with given amount of specified asset.</span>
<span class="sd">    asset can be &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">PAYMENT</span>
    <span class="n">body</span><span class="o">.</span><span class="n">paymentOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">PaymentOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="n">account</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">amount</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.put_or_update_data">
    <p>def <span class="ident">put_or_update_data</span>(</p><p>self, key, value)</p>
    </div>
    

    
  
    <div class="desc"><p>Puts the key value pair if not already present. If key is already presents
then updates old value with input value.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.put_or_update_data', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.put_or_update_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">put_or_update_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Puts the key value pair if not already present. If key is already presents</span>
<span class="sd">    then updates old value with input value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)]</span> <span class="k">if</span> <span class="n">value</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">MANAGE_DATA</span>
    <span class="n">body</span><span class="o">.</span><span class="n">manageDataOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ManageDataOp</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.remove_data">
    <p>def <span class="ident">remove_data</span>(</p><p>self, key)</p>
    </div>
    

    
  
    <div class="desc"><p>Removes the key value pair associated with given input key</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.remove_data', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.remove_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">remove_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Removes the key value pair associated with given input key&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">put_or_update_data</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.remove_offer">
    <p>def <span class="ident">remove_offer</span>(</p><p>self, offer_id, sell_asset, buy_asset)</p>
    </div>
    

    
  
    <div class="desc"><p>Removes existing offer with given offer_id of sell_asset &lt;-&gt; buy_asset trade</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.remove_offer', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.remove_offer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">remove_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Removes existing offer with given offer_id of sell_asset &lt;-&gt; buy_asset trade</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_offer</span><span class="p">(</span><span class="n">offer_id</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.remove_trust">
    <p>def <span class="ident">remove_trust</span>(</p><p>self, asset)</p>
    </div>
    

    
  
    <div class="desc"><p>Remove trust for given asset. 
asset is tuple in format (asset_code, asset_issuer) or 'native'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.remove_trust', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.remove_trust" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">remove_trust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Remove trust for given asset. </span>
<span class="sd">    asset is tuple in format (asset_code, asset_issuer) or &#39;native&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_or_update_trust</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.result">
    <p>def <span class="ident">result</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>If transaction was successful then (transaction-id, ledger-id) pair</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.result', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.result" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;If transaction was successful then (transaction-id, ledger-id) pair&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_success</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trxid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ledid</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Transaction failed. Check errors()&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.run_inflation">
    <p>def <span class="ident">run_inflation</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Runs inflation process with this account</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.run_inflation', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.run_inflation" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run_inflation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs inflation process with this account &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">INFLATION</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_flags">
    <p>def <span class="ident">set_flags</span>(</p><p>self, auth_required=False, auth_revocable=False, auth_immutable=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets the auth flags of the given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_flags', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_flags" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_flags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_required</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_revocable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">auth_immutable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the auth flags of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="n">auth_flags</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">auth_required</span> <span class="ow">or</span> <span class="n">auth_revocable</span> <span class="ow">or</span> <span class="n">auth_immutable</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">auth_required</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">auth_revocable</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">auth_immutable</span><span class="p">:</span>
            <span class="n">auth_flags</span> <span class="o">+=</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;set_flags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">auth_flags</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_home_domain">
    <p>def <span class="ident">set_home_domain</span>(</p><p>self, domain)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets home domain of the given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_home_domain', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_home_domain" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_home_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">domain</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets home domain of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;home_domain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">domain</span><span class="p">;</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_inflation_destination">
    <p>def <span class="ident">set_inflation_destination</span>(</p><p>self, account)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets the inflation of given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_inflation_destination', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_inflation_destination" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_inflation_destination</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">account</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets the inflation of given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;inflation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">account</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_master_weight">
    <p>def <span class="ident">set_master_weight</span>(</p><p>self, weight)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets master weight of the given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_master_weight', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_master_weight" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_master_weight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets master weight of the given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;master_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_signer">
    <p>def <span class="ident">set_signer</span>(</p><p>self, signer_type, key, weight)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets sigers of the given account (SET_OPTIONS operation).
available signer_type are ('ed25519PublicKey','hashX','preAuthTx')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_signer', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_signer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_signer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signer_type</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">weight</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets sigers of the given account (SET_OPTIONS operation).</span>
<span class="sd">    available signer_type are (&#39;ed25519PublicKey&#39;,&#39;hashX&#39;,&#39;preAuthTx&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;signer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">signer_type</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.set_thresholds">
    <p>def <span class="ident">set_thresholds</span>(</p><p>self, high=None, medium=None, low=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Sets threshold of given account (SET_OPTIONS operation)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.set_thresholds', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.set_thresholds" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_thresholds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">medium</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Sets threshold of given account (SET_OPTIONS operation)&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">high</span> <span class="ow">or</span> <span class="n">medium</span> <span class="ow">or</span> <span class="n">low</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">high</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;high&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">high</span>
        <span class="k">if</span> <span class="n">medium</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;medium&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">medium</span>
        <span class="k">if</span> <span class="n">low</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_options_op</span><span class="p">[</span><span class="s1">&#39;low&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">low</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.submit">
    <p>def <span class="ident">submit</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Submits transaction to network.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.submit', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.submit" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">submit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Submits transaction to network. &quot;&quot;&quot;</span>
    <span class="n">account_seq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="k">else</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">account</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)</span><span class="o">.</span><span class="n">fetch</span><span class="p">()</span><span class="o">.</span><span class="n">sequence</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__add_set_options_op</span><span class="p">()</span>
    <span class="n">base_fee</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fee</span> <span class="k">else</span> <span class="n">BASE_FEE</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span>
    <span class="n">time_bounds</span> <span class="o">=</span> <span class="p">[</span><span class="n">XDR</span><span class="o">.</span><span class="n">time_bounds_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span><span class="p">)]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_bounds</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">xdr</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">xdr</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">trxxdr</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Transaction</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">),</span> 
            <span class="n">base_fee</span><span class="p">,</span> 
            <span class="n">account_seq</span><span class="p">,</span>
            <span class="n">time_bounds</span><span class="p">,</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">memo_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">memo</span><span class="p">),</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">ops</span><span class="p">,</span>
            <span class="n">xdr</span><span class="p">)</span>
    <span class="n">trxtypepacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
    <span class="n">trxtypepacker</span><span class="o">.</span><span class="n">pack_EnvelopeType</span><span class="p">(</span><span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">ENVELOPE_TYPE_TX</span><span class="p">)</span>
    <span class="n">trxtype</span> <span class="o">=</span> <span class="n">trxtypepacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>
    <span class="n">trxpacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
    <span class="n">trxpacker</span><span class="o">.</span><span class="n">pack_Transaction</span><span class="p">(</span><span class="n">trxxdr</span><span class="p">)</span>
    <span class="n">trx</span> <span class="o">=</span> <span class="n">trxpacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>
    <span class="n">trx_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">network_id</span> <span class="o">+</span> <span class="n">trxtype</span> <span class="o">+</span> <span class="n">trx</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>
    <span class="n">signatures</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">signer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">signers</span><span class="p">:</span>
        <span class="n">signatures</span> <span class="o">+=</span> <span class="p">[</span><span class="n">_sign_trx_hash</span><span class="p">(</span><span class="n">signer</span><span class="p">,</span> <span class="n">trx_hash</span><span class="p">)]</span>
    <span class="n">tre</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">TransactionEnvelope</span><span class="p">(</span><span class="n">trxxdr</span><span class="p">,</span> <span class="n">signatures</span><span class="p">)</span>
    <span class="n">txpacker</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">StellarXDRPacker</span><span class="p">()</span>
    <span class="n">txpacker</span><span class="o">.</span><span class="n">pack_TransactionEnvelope</span><span class="p">(</span><span class="n">tre</span><span class="p">)</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">txpacker</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">())</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="s1">&#39;/transactions/&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tx&#39;</span><span class="p">:</span> <span class="n">payload</span> <span class="p">})</span>
    <span class="k">if</span> <span class="s1">&#39;status&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;extras&#39;</span> <span class="ow">in</span> <span class="n">res</span> <span class="ow">and</span> <span class="s1">&#39;result_codes&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;extras&#39;</span><span class="p">]:</span>
            <span class="n">result_codes</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;extras&#39;</span><span class="p">][</span><span class="s1">&#39;result_codes&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span> <span class="o">=</span> <span class="n">result_codes</span><span class="p">[</span><span class="s1">&#39;transaction&#39;</span><span class="p">]</span>\
                    <span class="k">if</span> <span class="s1">&#39;transaction&#39;</span> <span class="ow">in</span> <span class="n">result_codes</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span> <span class="o">=</span> <span class="n">result_codes</span><span class="p">[</span><span class="s1">&#39;operations&#39;</span><span class="p">]</span>\
                    <span class="k">if</span> <span class="s1">&#39;operations&#39;</span> <span class="ow">in</span> <span class="n">result_codes</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transaction_error</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation_errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ledid</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;ledger&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.NewTransaction.update_offer">
    <p>def <span class="ident">update_offer</span>(</p><p>self, offer_id, sell_amount, sell_asset, buy_asset, price)</p>
    </div>
    

    
  
    <div class="desc"><p>Updates offer with given offer_id with specified details.
sell_asset, buy_asset are asset in 'native' or tuple in format (asset_code, asset_issuer).
price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.NewTransaction.update_offer', this);">Show source &equiv;</a></p>
  <div id="source-stellar.NewTransaction.update_offer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_offer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offer_id</span><span class="p">,</span> <span class="n">sell_amount</span><span class="p">,</span> <span class="n">sell_asset</span><span class="p">,</span> <span class="n">buy_asset</span><span class="p">,</span> <span class="n">price</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Updates offer with given offer_id with specified details.</span>
<span class="sd">    sell_asset, buy_asset are asset in &#39;native&#39; or tuple in format (asset_code, asset_issuer).</span>
<span class="sd">    price in (numerator, denominator) format. To buy 1 BTC at 100 XLM price would be (1, 100)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">nullclass</span><span class="p">()</span>
    <span class="n">body</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">MANAGE_OFFER</span>
    <span class="n">body</span><span class="o">.</span><span class="n">manageOfferOp</span> <span class="o">=</span> <span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ManageOfferOp</span><span class="p">(</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">sell_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">asset_to_xdr</span><span class="p">(</span><span class="n">buy_asset</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">amount_to_xdr</span><span class="p">(</span><span class="n">sell_amount</span><span class="p">),</span>
            <span class="n">XDR</span><span class="o">.</span><span class="n">price_to_xdr</span><span class="p">(</span><span class="n">price</span><span class="p">),</span>
            <span class="n">offer_id</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Xdr</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Operation</span><span class="p">([</span><span class="n">XDR</span><span class="o">.</span><span class="n">address_to_xdr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">)],</span> <span class="n">body</span><span class="p">)]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Offers" class="name">class <span class="ident">Offers</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Offers', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Offers" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Offers</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Offer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">offerid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seller</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;seller&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selling</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;selling&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">buying</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;buying&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">price_r</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;d&#39;</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Offer(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">offerid</span><span class="p">,</span> <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seller</span><span class="p">),</span>\
                    <span class="bp">self</span><span class="o">.</span><span class="n">selling</span><span class="o">.</span><span class="n">asset_code</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buying</span><span class="o">.</span><span class="n">asset_code</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">__All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/offers&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Offers</span><span class="o">.</span><span class="n">Offer</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Offers">Offers</a></li>
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Offers.Offer" class="name">var <span class="ident">Offer</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Offers.Page" class="name">var <span class="ident">Page</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.Page">Page</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Offers.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.fetch">fetch</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Offers.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Offers.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Offers.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.first">first</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Offers.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Offers.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Offers.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.last">last</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Offers.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Offers.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Offers.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.stream">stream</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Offers.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Offers.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Operations" class="name">class <span class="ident">Operations</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Operations</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Operation</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Operation: https://www.stellar.org/developers/horizon/reference/resources/operation.html&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">opid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_account&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_i</span> <span class="o">=</span> <span class="n">t</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;type_i&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transaction_hash</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;transaction_hash&#39;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;account&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">funder</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;funder&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">starting_balance</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;starting_balance&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">from_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;from&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">to_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;to&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">source_amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">from_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;from&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">to_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;to&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">send_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;send_&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">offer_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;offer_id&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">buying_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;buying_&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selling_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;selling_&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">price</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">buying_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;buying_&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selling_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;selling_&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                <span class="k">if</span> <span class="s1">&#39;low_threshold&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">low_threshold</span> <span class="o">=</span>  <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;low_threshold&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">low_threshold</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;med_threshold&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">med_threshold</span> <span class="o">=</span>  <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;med_threshold&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">med_threshold</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;high_threshold&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">high_threshold</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;high_threshold&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">high_threshold</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;inflation_dest&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">inflation_dest</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;inflation_dest&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">inflation_dest</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;home_domain&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">home_domain</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;home_domain&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">home_domain</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;signer_key&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">signer_key</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;signer_key&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">signer_key</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;signer_weight&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">signer_weight</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;signer_weight&#39;</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">signer_weight</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;master_key_weight&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">master_key_weight</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;master_key_weight&#39;</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">master_key_weight</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;set_flags&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_flags</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;set_flags&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_flags</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="s1">&#39;clear_flags&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">clear_flags</span> <span class="o">=</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;clear_flags&#39;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">clear_flags</span> <span class="o">=</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustor</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;trustor&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustee</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;trustee&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustor</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;trustor&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trustee</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;trustee&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">authorize</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;authorize&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;account&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">merged_to</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;into&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">9</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Unsupported operation = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Operation(id=</span><span class="si">%s</span><span class="s1">,account=</span><span class="si">%s</span><span class="s1">,type=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opid</span><span class="p">,</span> <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_account</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opid</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">opid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;operation id expected&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opid</span> <span class="o">=</span> <span class="n">opid</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/operations/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">opid</span>

    <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">Operation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given operation&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/operations&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">Operation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Operations">Operations</a></li>
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Operations.Operation" class="name">var <span class="ident">Operation</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Operations.Page" class="name">var <span class="ident">Page</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.Page">Page</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.Operations.opid" class="name">var <span class="ident">opid</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Operations.paginated" class="name">var <span class="ident">paginated</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Operations.streamed" class="name">var <span class="ident">streamed</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Operations.url" class="name">var <span class="ident">url</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Operations.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, opid)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opid</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">opid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;operation id expected&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">opid</span> <span class="o">=</span> <span class="n">opid</span> 
    <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/operations/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">opid</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Operations.effects">
    <p>def <span class="ident">effects</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for effects associated with given operation</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given operation&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Operations.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.fetch">fetch</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Operations.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.first">first</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Operations.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.last">last</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Operations.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.stream">stream</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Operations.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Operations.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Orderbooks" class="name">class <span class="ident">Orderbooks</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Orderbooks', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Orderbooks" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Orderbooks</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Orderbook</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">base_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter_asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;counter&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">asks</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bids</span> <span class="o">=</span>  <span class="p">[]</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;asks&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asks</span> <span class="o">+=</span> <span class="p">[(</span>
                    <span class="n">a</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">],</span>
                    <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;d&#39;</span><span class="p">]),</span>
                    <span class="n">a</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">],</span>
                    <span class="p">)]</span>
            <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;bids&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bids</span> <span class="o">+=</span> <span class="p">[(</span>
                    <span class="n">b</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">],</span>
                    <span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="s1">&#39;price_r&#39;</span><span class="p">][</span><span class="s1">&#39;d&#39;</span><span class="p">]),</span>
                    <span class="n">b</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">],</span>
                    <span class="p">)]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Orderbook(base=</span><span class="si">%s</span><span class="s1">,counter=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_asset</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter_asset</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selling</span><span class="p">,</span> <span class="n">buying</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/order_book?</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="n">Asset</span><span class="o">.</span><span class="n">format_url_parameters</span><span class="p">(</span><span class="n">selling</span><span class="p">,</span> <span class="s1">&#39;selling_&#39;</span><span class="p">),</span> 
                            <span class="n">Asset</span><span class="o">.</span><span class="n">format_url_parameters</span><span class="p">(</span><span class="n">buying</span><span class="p">,</span> <span class="s1">&#39;buying_&#39;</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Orderbooks</span><span class="o">.</span><span class="n">Orderbook</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Orderbooks">Orderbooks</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Orderbooks.Orderbook" class="name">var <span class="ident">Orderbook</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.PaymentPaths" class="name">class <span class="ident">PaymentPaths</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.PaymentPaths', this);">Show source &equiv;</a></p>
  <div id="source-stellar.PaymentPaths" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">PaymentPaths</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">PaymentPath</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_asset_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_asset_type&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_asset_type</span> <span class="o">!=</span> <span class="s1">&#39;native&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">source_asset_code</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_asset_code&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">source_asset_issuer</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_asset_issuer&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_amount&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">destination_asset_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;destination_asset_type&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">destination_asset_type</span> <span class="o">!=</span> <span class="s1">&#39;native&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destination_asset_code</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;destination_asset_code&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destination_asset_issuer</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;destination_asset_issuer&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">destination_amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;destination_amount&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Asset</span><span class="p">(</span><span class="n">p</span><span class="p">)]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;PaymentPath(src=</span><span class="si">%s</span><span class="s1">,dest=</span><span class="si">%s</span><span class="s1">,path=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_asset_type</span><span class="p">,</span>\
                    <span class="bp">self</span><span class="o">.</span><span class="n">destination_asset_type</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">PaymentPaths</span><span class="o">.</span><span class="n">PaymentPath</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_embedded&#39;</span><span class="p">][</span><span class="s1">&#39;records&#39;</span><span class="p">]]</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_account</span><span class="p">,</span> <span class="n">to_account</span><span class="p">,</span> <span class="n">to_asset</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/paths?source_account=</span><span class="si">%s</span><span class="s1">&amp;destination_account=</span><span class="si">%s</span><span class="s1">&amp;</span><span class="si">%s</span><span class="s1">&amp;destination_amount=</span><span class="si">%s</span><span class="s1">&#39;</span>\
                    <span class="o">%</span> <span class="p">(</span><span class="n">from_account</span><span class="p">,</span> <span class="n">to_account</span><span class="p">,</span>
                            <span class="n">Asset</span><span class="o">.</span><span class="n">format_url_parameters</span><span class="p">(</span><span class="n">to_asset</span><span class="p">,</span> <span class="s1">&#39;destination_&#39;</span><span class="p">),</span> <span class="n">amount</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">PaymentPaths</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.PaymentPaths">PaymentPaths</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.PaymentPaths.PaymentPath" class="name">var <span class="ident">PaymentPath</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.PaymentPaths.records" class="name">var <span class="ident">records</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.PaymentPaths.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, data)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.PaymentPaths.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.PaymentPaths.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">PaymentPaths</span><span class="o">.</span><span class="n">PaymentPath</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;_embedded&#39;</span><span class="p">][</span><span class="s1">&#39;records&#39;</span><span class="p">]]</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Payments" class="name">class <span class="ident">Payments</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Payments', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Payments" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Payments</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Payment</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">source_account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_account&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type_i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;type_i&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">],</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T%H:%M:%SZ&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transaction_hash</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;transaction_hash&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;starting_balance&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">native_asset</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destination</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;account&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">amount</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amount&#39;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">asset</span> <span class="o">=</span> <span class="n">Asset</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destination</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;to&#39;</span><span class="p">]</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Payment(</span><span class="si">%s</span><span class="s1">,from=</span><span class="si">%s</span><span class="s1">,to=</span><span class="si">%s</span><span class="s1">,amount=</span><span class="si">%s</span><span class="s1">,asset=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source_account</span><span class="p">),</span>\
                    <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">amount</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/payments&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">Payment</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Payments">Payments</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Payments.Payment" class="name">var <span class="ident">Payment</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="stellar.Transactions" class="name">class <span class="ident">Transactions</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Transactions</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Transaction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Transactin: https://www.stellar.org/developers/horizon/reference/resources/transaction.html&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paging_token</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;paging_token&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hash</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ledger</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;ledger&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">account</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_account&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">account_seq</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;source_account_sequence&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fee_paid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;fee_paid&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operation_count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;operation_count&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span>
                    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">],</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%SZ&#39;</span><span class="p">)</span>

            <span class="n">memo_type</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;memo_type&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">memo_type</span> <span class="o">==</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="p">(</span><span class="n">memo_type</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;memo&#39;</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">memo_type</span> <span class="o">==</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="p">(</span><span class="n">memo_type</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;memo&#39;</span><span class="p">]))</span>
            <span class="k">elif</span> <span class="n">memo_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;hash&#39;</span><span class="p">,</span> <span class="s1">&#39;return&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="p">(</span><span class="n">memo_type</span><span class="p">,</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;memo&#39;</span><span class="p">])))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">memo</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Transaction(id=</span><span class="si">%s</span><span class="s1">,ledger=</span><span class="si">%s</span><span class="s1">,account=</span><span class="si">%s</span><span class="s1">,seq=</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trxid</span><span class="p">,</span>\
                    <span class="bp">self</span><span class="o">.</span><span class="n">ledger</span><span class="p">,</span> <span class="n">_shorten_address</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">account</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_seq</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trxid</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">trxid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;transaction id required&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span> <span class="o">=</span> <span class="n">trxid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/transactions/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span>

    <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">Transaction</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given transaction&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given transaction&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given transaction&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">_All</span><span class="p">(</span><span class="n">Fetchable</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">baseurl</span> <span class="o">+</span> <span class="s1">&#39;/transactions&#39;</span>

        <span class="k">def</span> <span class="nf">_map2obj</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Transactions</span><span class="o">.</span><span class="n">Transaction</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#stellar.Transactions">Transactions</a></li>
          <li><a href="#stellar.Fetchable">Fetchable</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="stellar.Transactions.Page" class="name">var <span class="ident">Page</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.Page">Page</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Transactions.Transaction" class="name">var <span class="ident">Transaction</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="stellar.Transactions.paginated" class="name">var <span class="ident">paginated</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Transactions.streamed" class="name">var <span class="ident">streamed</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Transactions.trxid" class="name">var <span class="ident">trxid</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="stellar.Transactions.url" class="name">var <span class="ident">url</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, trxid)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.__init__', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trxid</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">trxid</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;transaction id required&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span> <span class="o">=</span> <span class="n">trxid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;/transactions/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">trxid</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.effects">
    <p>def <span class="ident">effects</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for effects associated with given transaction</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.effects', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.effects" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for effects associated with given transaction&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Effects</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.fetch">
    <p>def <span class="ident">fetch</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.fetch">fetch</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns single or page object for given query. If paged object
then optionally accepts cursor (default none), limit (default 10)
and order (default asc). order can be 'asc' or 'desc'.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.fetch', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.fetch" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns single or page object for given query. If paged object</span>
<span class="sd">    then optionally accepts cursor (default none), limit (default 10)</span>
<span class="sd">    and order (default asc). order can be &#39;asc&#39; or &#39;desc&#39;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">paginated</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fetchable</span><span class="o">.</span><span class="n">Page</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.first">
    <p>def <span class="ident">first</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.first">first</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns first record for given paged
resource or None if thier are not records for given query. 
e.g. to fetch first transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().first()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.first', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.first" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">first</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns first record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query. </span>
<span class="sd">    e.g. to fetch first transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().first()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.last">
    <p>def <span class="ident">last</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.last">last</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Helper method for paginated query. returns last record for given paged
resource or None if thier are not records for given query.
e.g. to fetch last transaction:</p>
<div class="codehilite"><pre><span></span>&gt;&gt;&gt; stellar.transactions().last()
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.last', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.last" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Helper method for paginated query. returns last record for given paged</span>
<span class="sd">    resource or None if thier are not records for given query.</span>
<span class="sd">    e.g. to fetch last transaction:</span>
<span class="sd">        &gt;&gt;&gt; stellar.transactions().last()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">records</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.operations">
    <p>def <span class="ident">operations</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for operations associated with given transaction</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.operations', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.operations" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for operations associated with given transaction&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Operations</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.payments">
    <p>def <span class="ident">payments</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Returns fechable object for payments associated with given transaction</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.payments', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.payments" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">payments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns fechable object for payments associated with given transaction&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Payments</span><span class="o">.</span><span class="n">_All</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="stellar.Transactions.stream">
    <p>def <span class="ident">stream</span>(</p><p>self, cursor=None, limit=10, order=&#39;asc&#39;)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#stellar.Fetchable">Fetchable</a></code>.<code><a href="#stellar.Fetchable.stream">stream</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Returns iterable stream for the given query.
You can start stream from given cursor and order specified in the input.
Returned stream can be iterable using for-loop.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-stellar.Transactions.stream', this);">Show source &equiv;</a></p>
  <div id="source-stellar.Transactions.stream" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;asc&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns iterable stream for the given query.</span>
<span class="sd">    You can start stream from given cursor and order specified in the input.</span>
<span class="sd">    Returned stream can be iterable using for-loop.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">streamed</span><span class="p">:</span>
        <span class="n">urlsep</span> <span class="o">=</span> <span class="s1">&#39;&amp;&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;?&#39;</span> 
        <span class="k">if</span> <span class="n">cursor</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">cursor=</span><span class="si">%s</span><span class="s1">&amp;limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>\
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">urlsep</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">limit=</span><span class="si">%s</span><span class="s1">&amp;order=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>\
                    <span class="n">urlsep</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">order</span><span class="p">)</span>
        <span class="n">eventsource</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">horizon</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">eventsource</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&quot;hello&quot;&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map2obj</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;stream not supported&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
